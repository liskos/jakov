def f(x):
    return (x + 1), (x * 2)

# Создаем массив для хранения состояний игры для каждой позиции от 0 до 199
a = [" "] * 200

# Определяем базовые состояния, когда игрок уже не может совершить ход (выигрыш Вани)
for x in range(54, 200):
    a[x] = "0"  # "0" — это проигрышное состояние для того, кто ходит

# Заполняем массив для всех позиций от 0 до 53
for x in range(53, -1, -1):
    # Проверка на наличие выигрыша Пети
    if any(a[i] == "0" for i in f(x) if i < 200):
        a[x] = "1"  # "1" — это выигрышное состояние для Пети
    elif all(a[i] == "1" for i in f(x) if i < 200):
        a[x] = "2"  # "2" — это проигрышное состояние для Пети
    elif any(a[i] in "02" for i in f(x) if i < 200):
        a[x] = "3"  # "3" — это выигрышное состояние для Вани
    elif all(a[i] in "13" for i in f(x) if i < 200):
        a[x] = "4"  # "4" — это проигрышное состояние для Вани

# Находим позиции, где Ваня выигрывает первым ходом (состояние "4")
print([i for i in range(1, 54) if a[i] == "4"])

# Находим минимальное S, где Ваня выигрывает при любом ходе Пети
print("Минимальное S, где Ваня выигрывает:", min([i for i in range(1, 54) if a[i] in "34"]))
